<!DOCTYPE html>  <html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>The Therapist</title>  <!-- Bootstrap CSS -->  
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"  
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">  

<!-- Google Fonts: Roboto -->  
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">  

<!-- Font Awesome (pictograms) -->  
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">  

<style>  
    body {font-family: 'Roboto', sans-serif; background:#f8f9fa;}  
    .header {background:#007bff; color:#fff; padding:50px 0; text-align:center;}  
    .logo-svg {width:100px; height:100px; margin-bottom:20px;}  
    .chat-container {max-width:800px; margin:20px auto; border:1px solid #ddd; border-radius:10px; overflow:hidden; background:#fff;}  
    .chat-messages {height:400px; overflow-y:auto; padding:20px;}  
    .message {margin-bottom:15px; padding:10px; border-radius:10px;}  
    .user-message {background:#007bff; color:#fff; text-align:right;}  
    .bot-message {background:#e9ecef; text-align:left;}  
    .chat-input {display:flex; padding:10px; border-top:1px solid #ddd;}  
    .chat-input input {flex:1; margin-right:10px;}  
    .section {display:none;}  
    .active {display:block;}  
    .nav-link {cursor:pointer;}  
    .pictogram {font-size:2rem; margin-right:10px;}  
</style>

</head>  
<body>  <!-- Header -->  <header class="header">  
    <svg class="logo-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">  
        <!-- Heart + Brain SVG -->  
        <path d="M50 15 Q0 50 50 85 Q100 50 50 15" fill="pink" stroke="red" stroke-width="2"/>  
        <circle cx="50" cy="40" r="15" fill="lightblue" stroke="blue" stroke-width="2"/>  
        <path d="M40 40 Q50 30 60 40 Q50 50 40 40" fill="white"/>  
    </svg>  
    <h1>The Therapist</h1>  
    <p>Manage your emotions and seek everyday advice.<br>Don't hesitate to ask the Therapist for daily life help.</p>  
</header>  <!-- Navigation (Page Manager) -->  <nav class="navbar navbar-expand-lg navbar-light bg-light">  
    <div class="container-fluid">  
        <a class="navbar-brand" href="#">The Therapist</a>  
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">  
            <span class="navbar-toggler-icon"></span>  
        </button>  
        <div class="collapse navbar-collapse" id="navbarNav">  
            <ul class="navbar-nav">  
                <li class="nav-item"><a class="nav-link active" data-section="home">Home</a></li>  
                <li class="nav-item"><a class="nav-link" data-section="chat">Chat</a></li>  
                <li class="nav-item"><a class="nav-link" data-section="tips">Tips</a></li>  
            </ul>  
        </div>  
    </div>  
</nav>  <!-- Sections -->  <section id="home" class="section active container mt-4">  
    <h2>Welcome</h2>  
    <p>This app helps you manage emotions and find practical solutions using psychological tools. Tailored for couples, students, and business people.</p>  
    <div class="row text-center">  
        <div class="col-md-4"><i class="fas fa-heart pictogram"></i><h4>Couples</h4><p>Communication, trust, intimacy.</p></div>  
        <div class="col-md-4"><i class="fas fa-graduation-cap pictogram"></i><h4>Students</h4><p>Stress, motivation, focus.</p></div>  
        <div class="col-md-4"><i class="fas fa-briefcase pictogram"></i><h4>Business</h4><p>Work‑life balance, leadership, pressure.</p></div>  
    </div>  
</section>  <section id="chat" class="section container mt-4">  
    <h2>Chat with The Therapist</h2>  
    <p>Ask about emotions, relationships, or any daily challenge. The AI uses evidence‑based psychology to support you.</p>  
    <div class="chat-container">  
        <div class="chat-messages" id="chat-messages"></div>  
        <div class="chat-input">  
            <input type="text" id="user-input" class="form-control" placeholder="Type your message…">  
            <button id="send-btn" class="btn btn-primary">Send</button>  
        </div>  
    </div>  
</section>  <section id="tips" class="section container mt-4">  
    <h2>Quick Prompt Ideas</h2>  
    <ul>  
        <li><strong>Couples:</strong> “How can I rebuild trust after an argument?”</li>  
        <li><strong>Students:</strong> “Techniques to calm exam nerves?”</li>  
        <li><strong>Business:</strong> “How to handle a difficult boss?”</li>  
    </ul>  
    <p>Copy any prompt into the chat or type your own.</p>  
</section>  <!-- Bootstrap JS -->  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"  
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>  <script>  
    /* ---------- Page Manager ---------- */  
    const sections = document.querySelectorAll('.section');  
    const navLinks = document.querySelectorAll('.nav-link');  
  
    navLinks.forEach(l => l.addEventListener('click', e => {  
        e.preventDefault();  
        const target = l.dataset.section;  
        sections.forEach(s => s.classList.remove('active'));  
        document.getElementById(target).classList.add('active');  
        navLinks.forEach(n => n.classList.remove('active'));  
        l.classList.add('active');  
    }));  
  
    /* ---------- Chat with OpenAI ---------- */  
    const apiKey = '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'; // <-- NEW KEY  
    const chatMessages = document.getElementById('chat-messages');  
    const userInput = document.getElementById('user-input');  
    const sendBtn = document.getElementById('send-btn');  
  
    function addMessage(text, isUser) {  
        const div = document.createElement('div');  
        div.className = `message ${isUser ? 'user-message' : 'bot-message'}`;  
        div.textContent = text;  
        chatMessages.appendChild(div);  
        chatMessages.scrollTop = chatMessages.scrollHeight;  
    }  
  
    async function getTherapistResponse(message) {  
        addMessage(message, true);  
        userInput.value = '';  
  
        try {  
            const res = await fetch('https://api.openai.com/v1/chat/completions', {  
                method: 'POST',  
                headers: {  
                    'Content-Type': 'application/json',  
                    'Authorization': `Bearer ${apiKey}`  
                },  
                body: JSON.stringify({  
                    model: 'gpt-4o-mini',               // reliable, cost‑effective model  
                    temperature: 0.7,  
                    messages: [  
                        { role: 'system', content: `You are "The Therapist", an empathetic AI that uses psychological principles to help users manage emotions, solve everyday problems, and give relationship advice. Target audiences: couples, students, business professionals. Be supportive, concise, and practical.` },  
                        { role: 'user', content: message }  
                    ]  
                })  
            });  
  
            const data = await res.json();  
            const reply = data.choices?.[0]?.message?.content?.trim() || 'Sorry, I couldn’t generate a response.';  
            addMessage(reply, false);  
        } catch (err) {  
            console.error(err);  
            addMessage('Error: Unable to reach the server. Please try again later.', false);  
        }  
    }  
  
    sendBtn.addEventListener('click', () => {  
        const txt = userInput.value.trim();  
        if (txt) getTherapistResponse(txt);  
    });  
  
    userInput.addEventListener('keydown', e => {  
        if (e.key === 'Enter') sendBtn.click();  
    });  
</script>  </body>  
</html>  
